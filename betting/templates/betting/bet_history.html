{% extends 'betting/base.html' %}

{% block content %}
<h2>История моих ставок</h2>

{% if bets %}
<table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
    <thead>
        <tr style="background: #f8f9fa;">
            <th style="padding: 0.5rem; border: 1px solid #ddd;">Забег</th>
            <th style="padding: 0.5rem; border: 1px solid #ddd;">Лошадь</th>
            <th style="padding: 0.5rem; border: 1px solid #ddd;">Тип ставки</th>
            <th style="padding: 0.5rem; border: 1px solid #ddd;">Сумма</th>
            <th style="padding: 0.5rem; border: 1px solid #ddd;">Потенциальный выигрыш</th>
            <th style="padding: 0.5rem; border: 1px solid #ddd;">Статус</th>
            <th style="padding: 0.5rem; border: 1px solid #ddd;">Дата</th>
        </tr>
    </thead>
    <tbody>
        {% for bet in bets %}
        <tr>
            <td style="padding: 0.5rem; border: 1px solid #ddd;">{{ bet.race_participant.race.title }}</td>
            <td style="padding: 0.5rem; border: 1px solid #ddd;">{{ bet.race_participant.horse.name }}</td>
            <td style="padding: 0.5rem; border: 1px solid #ddd;">{{ bet.get_bet_type_display }}</td>
            <td style="padding: 0.5rem; border: 1px solid #ddd;">{{ bet.amount }} руб.</td>
            <td style="padding: 0.5rem; border: 1px solid #ddd;">{{ bet.potential_win }} руб.</td>
            <td style="padding: 0.5rem; border: 1px solid #ddd;">{{ bet.status }}</td>
            <td style="padding: 0.5rem; border: 1px solid #ddd;">{{ bet.created_at }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p>У вас еще нет ставок.</p>
{% endif %}

<a href="{% url 'home' %}" class="btn">← На главную</a>
{% endblock %}